---
title: デザイン実装ロードマップ
category: design
dependencies: [competitive-analysis.md, screens.md, components.md, style-guide.md]
phase: 0
last-updated: 2024-11-22
---

# デザイン実装ロードマップ

## 1. 実装戦略

### 1.1 基本方針

```yaml
アプローチ:
  - モバイルファースト
  - コンポーネント駆動開発
  - デザインシステム先行構築
  - 段階的リリース

優先順位の判断基準:
  1. ユーザー価値の高さ
  2. 技術的依存関係
  3. 競合分析からの学び
  4. 実装コスト

品質基準:
  - アクセシビリティ完全対応
  - パフォーマンス最適化
  - レスポンシブ対応
  - テストカバレッジ80%以上
```

---

## 2. Phase 1: MVP（2週間）

### 2.1 目標

**「計算機能だけで価値を提供できる状態」**

- 価格と使用年数を入力
- 日割り金額を表示
- 身近なもので比較表示
- PWAとしてインストール可能

### 2.2 実装タスク

#### Week 1: デザインシステム構築

**Day 1-2: CSS変数とユーティリティクラス**

```yaml
タスク:
  - style-guide.mdに基づいたCSS変数定義
  - Tailwind設定ファイル作成
  - カラーパレット実装
  - タイポグラフィ設定

成果物:
  - app.css
  - tailwind.config.js
  - デザイントークン定義

確認項目:
  ✅ すべてのカラーがCSS変数で定義されている
  ✅ フォントサイズが一貫している
  ✅ スペーシングが4pxベース
```

**Day 3-4: 基本コンポーネント（Layout）**

```yaml
実装コンポーネント:
  - AppHeader
  - AppContainer
  - AppFooter（Phase 1では最小限）

テスト:
  - Storybook作成
  - レスポンシブ確認
  - アクセシビリティチェック

確認項目:
  ✅ モバイル・タブレット・デスクトップで表示確認
  ✅ スクリーンリーダーで読み上げ可能
  ✅ キーボード操作可能
```

**Day 5-7: Formコンポーネント**

```yaml
実装コンポーネント:
  - TextField（商品名用）
  - NumberField（価格用）
  - SliderField（使用年数用）
  - PrimaryButton（計算ボタン）

機能:
  - リアルタイムバリデーション
  - エラー表示
  - アクセシブルなラベルとARIA属性

テスト:
  - 単体テスト（Vitest）
  - E2Eテスト（Playwright）
  - バリデーションロジックテスト

確認項目:
  ✅ 1円〜10億円の範囲で入力可能
  ✅ 0.5年刻みでスライダー操作可能
  ✅ エラーメッセージが適切に表示
  ✅ フォーカス順序が正しい
```

#### Week 2: 結果表示と計算機能

**Day 8-10: 結果表示コンポーネント**

```yaml
実装コンポーネント:
  - ResultCard（日割り金額表示）
  - ComparisonItem（比較アイテム1件）
  - ComparisonList（比較リスト）

機能:
  - カウントアップアニメーション
  - 比較アイテムの動的取得
  - 「もっと見る」展開機能

テスト:
  - スナップショットテスト
  - アニメーション動作確認
  - 比較ロジックテスト

確認項目:
  ✅ 日割り金額が大きく見やすい
  ✅ アニメーションがスムーズ
  ✅ 3件初期表示、タップで全表示
  ✅ 絵文字が正しく表示
```

**Day 11-12: ホーム画面統合**

```yaml
実装画面:
  - pages/index.vue

機能:
  - フォーム入力
  - リアルタイム計算
  - 結果表示
  - ローカルストレージ保存（前回値）

状態管理:
  - Pinia store作成
  - 計算ロジック実装
  - 比較データ取得

確認項目:
  ✅ 計算が正確
  ✅ 結果が即座に表示
  ✅ 前回値が復元される
  ✅ オフラインでも動作
```

**Day 13-14: PWA対応とポリッシュ**

```yaml
実装内容:
  - Service Worker設定
  - manifest.json作成
  - アイコン生成
  - オフライン対応
  - マイクロインタラクション追加

テスト:
  - Lighthouse（90点以上目標）
  - オフライン動作確認
  - インストール確認（iOS/Android）

確認項目:
  ✅ PWAとしてインストール可能
  ✅ オフラインで計算可能
  ✅ パフォーマンススコア90+
  ✅ アクセシビリティスコア100
```

### 2.3 Phase 1 完成チェックリスト

```yaml
必須機能:
  ✅ 商品名入力（任意）
  ✅ 価格入力（1〜10億円）
  ✅ 使用年数入力（0.5〜100年）
  ✅ 日割り金額計算
  ✅ 比較アイテム表示（最低3件）
  ✅ 前回値の復元
  ✅ PWAインストール可能

品質:
  ✅ レスポンシブ対応（Mobile/Tablet/Desktop）
  ✅ アクセシビリティ（WCAG 2.1 AA）
  ✅ パフォーマンス（Lighthouse 90+）
  ✅ テストカバレッジ80%+

デザイン:
  ✅ スタイルガイド準拠
  ✅ マイクロインタラクション実装
  ✅ スムーズなアニメーション
```

---

## 3. Phase 2: 拡張機能（1.5週間）

### 3.1 目標

**「データを蓄積して振り返れる状態」**

- 計算履歴の保存・閲覧
- 統計情報の表示
- ダークモード対応
- 設定画面

### 3.2 実装タスク

#### Week 3: 履歴機能

**Day 15-17: バックエンド連携**

```yaml
実装内容:
  - Supabase設定
  - テーブル作成（products, calculations）
  - 認証なし保存（session_id）
  - API作成（/api/calculations）

機能:
  - 計算結果の自動保存
  - 履歴一覧取得
  - 履歴詳細取得
  - 履歴削除

テスト:
  - APIテスト
  - データ永続化確認
  - エラーハンドリング

確認項目:
  ✅ 計算後に自動保存
  ✅ セッションIDで識別
  ✅ 100件まで保存
  ✅ 古いデータ自動削除
```

**Day 18-19: 履歴UI実装**

```yaml
実装コンポーネント:
  - HistoryCard
  - HistoryList
  - SkeletonLoader

実装画面:
  - pages/history.vue

機能:
  - 無限スクロール
  - スワイプで削除（モバイル）
  - 月別グルーピング
  - タップで詳細表示

テスト:
  - E2Eテスト
  - スワイプ動作確認
  - パフォーマンステスト

確認項目:
  ✅ 履歴が時系列で表示
  ✅ 月別にセクション分け
  ✅ スワイプで削除可能
  ✅ ローディング状態が適切
```

#### Week 4: 統計・設定

**Day 20-21: 統計画面**

```yaml
実装コンポーネント:
  - StatsCard
  - BarChart（Chart.js or Recharts）

実装画面:
  - pages/stats.vue

機能:
  - 総計算回数
  - 平均日額
  - 月別計算数グラフ
  - 最も高い/安い日割り

確認項目:
  ✅ 統計が正確に計算
  ✅ グラフが見やすい
  ✅ データがない場合の表示
```

**Day 22: ダークモード**

```yaml
実装内容:
  - CSS変数のダークモード定義
  - システム設定連動
  - 手動切替トグル

確認項目:
  ✅ システム設定に追従
  ✅ 手動切替可能
  ✅ 設定が永続化
  ✅ すべてのコンポーネントで動作
```

**Day 23: 設定画面**

```yaml
実装画面:
  - pages/settings.vue

機能:
  - ダークモード切替
  - データエクスポート（JSON）
  - データ削除
  - バージョン表示

確認項目:
  ✅ 設定が保存される
  ✅ エクスポート/インポート可能
  ✅ 削除時に確認ダイアログ
```

**Day 24: ナビゲーション**

```yaml
実装コンポーネント:
  - TabNav（ボトムナビゲーション）

画面遷移:
  - ホーム ⇔ 履歴 ⇔ 統計 ⇔ 設定

確認項目:
  ✅ タブ間の遷移がスムーズ
  ✅ アクティブタブが明確
  ✅ スワイプジェスチャー対応
```

### 3.3 Phase 2 完成チェックリスト

```yaml
追加機能:
  ✅ 計算履歴の保存・閲覧
  ✅ 履歴削除（スワイプ）
  ✅ 統計情報表示
  ✅ 月別グラフ
  ✅ ダークモード
  ✅ 設定画面
  ✅ タブナビゲーション

品質:
  ✅ Supabaseと正しく連携
  ✅ オフライン時の挙動が適切
  ✅ ダークモードで視認性良好
```

---

## 4. Phase 3: 高度機能（2週間）

### 4.1 目標

**「ユーザーアカウントで個別最適化」**

- ユーザー登録・ログイン
- 幸福度スコア評価
- デバイス間同期
- レコメンド機能

### 4.2 実装タスク

#### Week 5: 認証・幸福度

**Day 25-27: 認証機能**

```yaml
実装画面:
  - pages/login.vue
  - pages/register.vue
  - pages/profile.vue

機能:
  - メール/パスワード認証
  - ソーシャルログイン（Google, Apple）
  - パスワードリセット
  - プロフィール編集

確認項目:
  ✅ Supabase Authと連携
  ✅ セッション管理
  ✅ ログイン状態の永続化
  ✅ ログアウト機能
```

**Day 28-30: 幸福度スコア**

```yaml
実装コンポーネント:
  - HappinessModal
  - RatingInput（5段階評価）
  - HappinessScore（スコア表示）

実装ロジック:
  - スコア計算式実装
  - Supabaseに保存
  - 計算結果詳細画面に統合

機能:
  - 使用頻度評価（1-5）
  - 満足度評価（1-5）
  - 必要性評価（1-5）
  - リアルタイムスコア計算
  - メッセージ生成

確認項目:
  ✅ 3つすべて選択後にスコア表示
  ✅ カウントアップアニメーション
  ✅ メッセージが適切
  ✅ データが保存される
```

#### Week 6: レコメンド・改善

**Day 31-33: レコメンド機能**

```yaml
実装内容:
  - よく使う商品の提案
  - 平均使用年数の提示
  - 幸福度が高かった商品の提案

実装場所:
  - ホーム画面上部（サジェスト）
  - 入力フォームのオートコンプリート

確認項目:
  ✅ 履歴から適切に提案
  ✅ タップで入力フォームに反映
  ✅ 提案がない場合の表示
```

**Day 34-35: データ同期**

```yaml
実装内容:
  - ログイン時にローカルデータをマージ
  - デバイス間で同期
  - コンフリクト解決

確認項目:
  ✅ 複数デバイスで同じデータ
  ✅ オフライン編集→オンライン同期
  ✅ 重複データの処理
```

**Day 36-38: ポリッシュ**

```yaml
実装内容:
  - アニメーション強化
  - マイクロインタラクション追加
  - パフォーマンス最適化
  - バグ修正

確認項目:
  ✅ すべての遷移がスムーズ
  ✅ ローディング時間が短い
  ✅ エラーハンドリングが適切
```

### 4.3 Phase 3 完成チェックリスト

```yaml
追加機能:
  ✅ ユーザー登録・ログイン
  ✅ ソーシャルログイン
  ✅ 幸福度スコア評価
  ✅ デバイス間同期
  ✅ レコメンド機能
  ✅ プロフィール管理

品質:
  ✅ 認証フローが完璧
  ✅ 同期が正しく動作
  ✅ パフォーマンス最適化済み
```

---

## 5. Phase 4: ゲーミフィケーション（1週間）

### 5.1 目標

**「使い続けたくなる仕組み」**

- バッジ・実績システム
- 連続記録
- 節約額の可視化
- ソーシャル要素

### 5.2 実装タスク

```yaml
Day 39-41: バッジシステム:
  - バッジ定義（初回計算、10回計算、100回計算など）
  - BadgeDisplayコンポーネント
  - 獲得アニメーション
  - プロフィールに表示

Day 42-43: 連続記録:
  - 連続計算日数カウント
  - カレンダー表示
  - 記録途切れ通知

Day 44-45: 共有機能強化:
  - 計算結果の画像生成
  - SNS投稿テンプレート
  - ランキング機能（オプション）
```

---

## 6. Phase 5: リリース準備（1週間）

### 6.1 最終チェック

```yaml
Day 46-47: 総合テスト:
  - E2Eテスト全実行
  - クロスブラウザテスト
  - デバイステスト（iOS/Android）
  - パフォーマンステスト
  - セキュリティ監査

Day 48: ドキュメント整備:
  - README更新
  - APIドキュメント
  - ユーザーガイド
  - プライバシーポリシー
  - 利用規約

Day 49: 本番環境準備:
  - Vercelデプロイ設定
  - Supabase本番設定
  - ドメイン設定
  - SSL証明書
  - 監視設定（Sentry）

Day 50-52: ソフトローンチ:
  - ベータテスター募集
  - フィードバック収集
  - バグ修正
  - 最終調整
```

---

## 7. 実装優先度マトリックス

### 7.1 Phase 1（MVP）優先度

| 機能             | 優先度  | 理由           | 工数  |
| ---------------- | ------- | -------------- | ----- |
| 計算機能         | 🔴 必須 | コア機能       | 3日   |
| 比較表示         | 🔴 必須 | 差別化要素     | 2日   |
| PWA対応          | 🔴 必須 | オフライン動作 | 2日   |
| デザインシステム | 🔴 必須 | 一貫性の基盤   | 3日   |
| アニメーション   | 🟡 推奨 | UX向上         | 1日   |
| 商品名入力       | 🟢 任意 | あると便利     | 0.5日 |

### 7.2 Phase 2（拡張）優先度

| 機能         | 優先度  | 理由       | 工数 |
| ------------ | ------- | ---------- | ---- |
| 履歴保存     | 🔴 必須 | データ蓄積 | 3日  |
| 履歴一覧     | 🔴 必須 | 振り返り   | 2日  |
| 統計表示     | 🟡 推奨 | 分析機能   | 2日  |
| ダークモード | 🟡 推奨 | 快適性     | 1日  |
| タブナビ     | 🔴 必須 | 画面遷移   | 1日  |

### 7.3 Phase 3（高度）優先度

| 機能         | 優先度  | 理由             | 工数 |
| ------------ | ------- | ---------------- | ---- |
| 認証         | 🔴 必須 | データ同期の前提 | 3日  |
| 幸福度評価   | 🟡 推奨 | 差別化要素       | 3日  |
| レコメンド   | 🟢 任意 | 便利機能         | 3日  |
| デバイス同期 | 🟡 推奨 | UX向上           | 2日  |

---

## 8. リスクと対策

### 8.1 技術的リスク

```yaml
リスク: Volt UIの習熟に時間がかかる
対策: 事前に公式ドキュメント精読、サンプル実装
影響: Phase 1が1-2日遅延
軽減策: カスタムコンポーネント優先、Volt UIは後から

リスク: Supabase RLSの設定ミス
対策: セキュリティレビュー、テストケース作成
影響: データ漏洩の可能性
軽減策: 専門家レビュー、段階的リリース

リスク: パフォーマンス問題
対策: 早期にLighthouse計測、最適化
影響: UX低下
軽減策: コード分割、遅延ロード、キャッシュ戦略
```

### 8.2 スケジュールリスク

```yaml
リスク: 見積もり甘く遅延
対策: バッファ20%確保、毎日進捗確認
影響: リリース遅延
軽減策: Phase単位で区切り、MVP優先

リスク: 仕様変更
対策: 設計書を先に固める、変更管理
影響: 手戻り発生
軽減策: 柔軟なアーキテクチャ、Phase分割
```

---

## 9. 成功指標（KPI）

### 9.1 Phase 1（MVP）

```yaml
技術指標:
  - Lighthouse Performance: 90+
  - Lighthouse Accessibility: 100
  - First Contentful Paint: < 1.5s
  - Time to Interactive: < 3s

ユーザー指標:
  - 計算完了率: > 80%
  - PWAインストール率: > 5%
  - エラー発生率: < 1%
```

### 9.2 Phase 2（拡張）

```yaml
エンゲージメント:
  - 週次アクティブユーザー: > 100
  - 平均セッション時間: > 2分
  - リピート率: > 40%

データ:
  - 平均保存件数/ユーザー: > 5件
  - 統計画面訪問率: > 30%
```

### 9.3 Phase 3（高度）

```yaml
ユーザー:
  - 登録率: > 20%
  - 幸福度評価率: > 50%
  - デバイス同期成功率: > 95%

満足度:
  - 幸福度スコア平均: > 70点
  - アプリ満足度: > 4.0/5.0
```

---

## 10. まとめ

このロードマップに従うことで、**約7週間**で「にちわり！」アプリを完成させることができます。

**重要なポイント:**

1. ✅ **Phase 1を確実に** - MVPで価値提供
2. ✅ **競合分析の学びを活用** - リアルタイム計算、大きな数字強調
3. ✅ **段階的リリース** - フィードバックを次のPhaseに反映
4. ✅ **品質優先** - アクセシビリティ、パフォーマンス
5. ✅ **データ駆動** - KPIを計測し改善

次は、このロードマップに基づいて Phase 1 の実装を開始します！
